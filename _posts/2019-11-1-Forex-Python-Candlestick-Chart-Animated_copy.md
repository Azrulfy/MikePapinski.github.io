---
layout: post
title: Python Forex Candlestick Chart Animated.
author: MikePapinski
summary: We are going to generate animated candlestick chart using python and forex tick data.
categories: [Python, Forex]
image: assets/images/posts/5/post_5.jpg
---




# Create live candlestick chart from tick data

#### Jupyter setup for live charting.
 ###### You need this to animate the matplotlib chart inside jupyter environment, otherwise just skip this step.


```python
%matplotlib inline
%load_ext autoreload
%autoreload 2
%matplotlib notebook
```

### Donwload tick data
We will use duka library to download tick data for us. If you do not have duka installed, just use 'pip install duka'


```python
import duka.app.app as import_ticks_method
from duka.core.utils import TimeFrame
import datetime

start_date = datetime.date(2019,1,1)
end_date = datetime.date(2019,2,1)
Assets = ["EURUSD"]

import_ticks_method(Assets,
                    start_date, 
                    end_date, 
                    1, 
                    TimeFrame.TICK, 
                    ".", 
                    True)
```

    [####################################################################################################] 100%  Left : 0:00:00  

### Load the file to pandas dataframe


```python
import pandas as pd

tick_data = pd.read_csv("EURUSD-2019_01_01-2019_02_01.csv",
                        index_col=["time"], 
                        usecols=["time", "ask", "bid"],
                        parse_dates=["time"])
tick_data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ask</th>
      <th>bid</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-01-01 22:02:37.254</th>
      <td>1.14682</td>
      <td>1.14598</td>
    </tr>
    <tr>
      <th>2019-01-01 22:02:38.590</th>
      <td>1.14682</td>
      <td>1.14599</td>
    </tr>
    <tr>
      <th>2019-01-01 22:02:39.138</th>
      <td>1.14684</td>
      <td>1.14599</td>
    </tr>
    <tr>
      <th>2019-01-01 22:02:55.787</th>
      <td>1.14684</td>
      <td>1.14598</td>
    </tr>
    <tr>
      <th>2019-01-01 22:03:02.060</th>
      <td>1.14684</td>
      <td>1.14598</td>
    </tr>
  </tbody>
</table>
</div>



### Convert tick data to OHLC candlestick data
We will wrap this conversion inside a method and call it.


```python
def convert_ticks_to_ohlc(df, df_column, timeframe):
    data_frame = df[df_column].resample(timeframe).ohlc()
    return data_frame

data_ask = convert_ticks_to_ohlc(tick_data,"ask","240Min")
data_ask.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>open</th>
      <th>high</th>
      <th>low</th>
      <th>close</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-01-01 20:00:00</th>
      <td>1.14682</td>
      <td>1.14691</td>
      <td>1.14611</td>
      <td>1.14616</td>
    </tr>
    <tr>
      <th>2019-01-02 00:00:00</th>
      <td>1.14616</td>
      <td>1.14630</td>
      <td>1.14431</td>
      <td>1.14460</td>
    </tr>
    <tr>
      <th>2019-01-02 04:00:00</th>
      <td>1.14462</td>
      <td>1.14971</td>
      <td>1.14430</td>
      <td>1.14768</td>
    </tr>
    <tr>
      <th>2019-01-02 08:00:00</th>
      <td>1.14757</td>
      <td>1.14784</td>
      <td>1.14224</td>
      <td>1.14341</td>
    </tr>
    <tr>
      <th>2019-01-02 12:00:00</th>
      <td>1.14341</td>
      <td>1.14343</td>
      <td>1.13421</td>
      <td>1.13538</td>
    </tr>
  </tbody>
</table>
</div>



### Create candlestick chart
We will use matplotlib finance library called as mpl_finance in order to generate our candlestick chart.


```python
from mpl_finance import candlestick_ohlc
import matplotlib.pyplot as plt
import matplotlib.ticker as mticker

fig = plt.figure(figsize=(8,5))
ax1 = plt.subplot2grid((1,1), (0,0))

candle_counter = range(len(data_ask["open"])-1)
ohlc = []
for candle in candle_counter:
    append_me = candle_counter[candle], \
        data_ask["open"][candle], \
        data_ask["high"][candle],  \
        data_ask["low"][candle], \
        data_ask["close"][candle]
    ohlc.append(append_me)
    
candlestick_ohlc(ax1, ohlc, width=0.4, colorup='#075105', colordown='#AF141A')
for label in ax1.xaxis.get_ticklabels():
    label.set_rotation(45)
ax1.xaxis.set_major_locator(mticker.MaxNLocator(10))
ax1.grid(True)
plt.xlabel('Candle counter')
plt.ylabel('Price')
plt.title('Candlestick sample representation')
plt.grid(False)
    
plt.subplots_adjust(left=0.09, bottom=0.20, right=0.94, top=0.90, wspace=0.2, hspace=0)
plt.show()
```


![png]({{ site.baseurl }}/assets/images/posts/5/output_10_0.png)


# Create live candlestick chart
Now we will use above method and make the chart animated by adding new candles and removing old ones.


```python
# - Thise is needed in order to work inside jupyter notebook.
%matplotlib notebook 

# - Imports
from mpl_finance import candlestick_ohlc
import matplotlib.pyplot as plt
import matplotlib.ticker as mticker
import time

# - Load tick data to pandas dataframe
tick_data = pd.read_csv("EURUSD-2019_01_01-2019_02_01.csv",
                        index_col=["time"], 
                        usecols=["time", "ask", "bid"],
                        parse_dates=["time"])

# - Convert tick data to ohlc format
candlestick_data = convert_ticks_to_ohlc(tick_data, 
                                         "ask", 
                                         "5Min")

# - Initialise the graph and settings
fig = plt.figure(figsize=(8,5))
ax = plt.subplot2grid((1,1), (0,0))
plt.ion()

# - Show the blank graph
fig.show()
fig.canvas.draw()

# - Iterate through candles and add them to chart
all_candles = range(len(candlestick_data))
for candle in all_candles:
    candles_to_show = candlestick_data[0:candle] 
    ohlc_counter = range(len(candles_to_show["open"]))
    ohlc = []
    for ohlc_item in ohlc_counter:
        append_me = ohlc_counter[ohlc_item], \
                    candles_to_show["open"][ohlc_item], \
                    candles_to_show["high"][ohlc_item],  \
                    candles_to_show["low"][ohlc_item], \
                    candles_to_show["close"][ohlc_item]
        ohlc.append(append_me)
    ax.clear() # - Clear the chart
    candlestick_ohlc(ax, ohlc, width=0.4, 
                     colorup='#075105', 
                     colordown='#AF141A')
    for label in ax.xaxis.get_ticklabels():
        label.set_rotation(45)
    ax.xaxis.set_major_locator(mticker.MaxNLocator(10))
    ax.grid(True)
    plt.grid(False)
    plt.xlabel('Candle count')
    plt.ylabel('Price')
    plt.title('Candlestick chart simulation')
    plt.subplots_adjust(left=0.09, bottom=0.20, right=0.94, 
                        top=0.90, wspace=0.2, hspace=0)
    fig.canvas.draw() # - Draw on the chart
    time.sleep(0.1) # - Wait 0.1 sec between each candle
```


    <IPython.core.display.Javascript object>



<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAJxCAYAAADRvZjbAAAgAElEQVR4Xu3de6xdVbk34FEIHNJoBQ4QpfQiJMRegqE1lLa21MQ/xEto1YhAKLegXNQGTUSQSxtpEapQoqEXGtNSuaUKoolEgwkVWxITk2psaRW5hva/AxViaCPwZcyTvT9Ouzbde0rHnu/Yz0qaiF1zj3c877tW12/PteYa9fbbb7+d3AgQIECAAAECBAgQIFBAYNSoUaMKLGMJAiEFRgnoIfumaAIECBAgQIAAAQIhBQT0kG1TdCEBAb0QtGUIECBAgAABAgQIEEhJQDcFBAYWENBNBwECBAgQIECAAAECxQQE9GLUFgooIKAHbJqSCRAgQIAAAQIECEQVENCjdk7dJQQE9BLK1iBAgAABAgQIECBAoBEQ0A0CgYEFBHTTQYAAAQIECBAgQIBAMQEBvRi1hQIKCOgBm6ZkAgQIECBAgAABAlEFBPSonVN3CQEBvYSyNQgQIECAAAECBAgQaAQEdINAYGABAd10ECBAgAABAgQIECBQTEBAL0ZtoYACAnrApimZAAECBAgQIECAQFQBAT1q59RdQkBAL6FsDQIECBAgQIAAAQIEGgEB3SAQGFhAQDcdBAgQIECAAAECBAgUExDQi1FbKKCAgB6waUomQIAAAQIECBAgEFVAQI/aOXWXEBDQSyhbgwABAgQIECBAgACBRkBANwgEBhYQ0E0HAQIECBAgQIAAAQLFBAT0YtQWCiggoAdsmpIJECBAgAABAgQIRBUQ0KN2Tt0lBAT0EsrWIECAAAECBAgQIECgERDQDQKBgQUEdNNBgAABAgQIECBAgEAxAQG9GLWFAgoI6AGbpmQCBAgQIECAAAECUQUE9KidU3cJAQG9hLI1CBAgQIAAAQIECBBoBAR0g0BgYAEB3XQQIECAAAECBAgQIFBMQEAvRm2hgAICesCmKZkAAQIECBAgQIBAVAEBPWrn1F1CQEAvoWwNAgQIECBAgAABAgQaAQHdIBAYWEBANx0ECBAgQIAAAQIECBQTENCLUVsooICAHrBpSiZAgAABAgQIECAQVUBAj9o5dZcQENBLKFuDAAECBAgQIECAAIFGQEA3CAQGFhDQTQcBAgQIECBAgAABAsUEBPRi1BYKKCCgB2yakgkQIECAAAECBAhEFRDQo3ZO3SUEBPQSytYgQIAAAQIECBAgQKARENANAoGBBQR000GAAAECBAgQIECAQDEBAb0YtYUCCgjoAZumZAIECBAgQIAAAQJRBQT0qJ1TdwkBAb2EsjUIECBAgAABAgQIEGgEBHSDQGBgAQHddBAgQIAAAQIECBAgUExAQC9GbaGAAgJ6wKYpmQABAgQIECBAgEBUAQE9aufUXUJAQC+hbA0CBAgQIECAAAECBBoBAd0gEBhYQEA3HQQIECBAgAABAgQIFBMQ0ItRWyiggIAesGlKJkCAAAECBAgQIBBVQECP2jl1lxAQ0EsoW4MAAQIECBAgQIAAgUZAQDcIBAYWENBNBwECBAgQIECAAAECxQQE9GLUFgooIKAHbJqSCRAgQIAAAQIECEQVENCjdk7dJQQE9BLK1iBAgAABAgQIECBAoBEQ0A0CgYEFBHTTQYAAAQIECBAgQIBAMQEBvRi1hQIKCOgBm6ZkAgQIECBAgAABAlEFBPSonVN3CQEBvYSyNQgQIECAAAECBAgQaAQEdINAYGABAd10ECBAgAABAgQIECBQTEBAL0ZtoYACYQL673//+7R8+fL0pz/9Ke3evTs98sgjaf78+e9KvmnTpvTNb34zbdu2LZ144onp29/+drriiisCtknJBAgQIECAAAECBOoQENDr6KNdHBqBMAH9scceS5s3b07Tpk1LX/jCFw4a0J977rk0derUdPnll6evfvWrzbFXXXVVeuCBB5rj3QgQIECAAAECBAgQKC8goJc3t2IcgTAB/Z2ko0aNOmhAv/baa9Mvf/nL9PTTT/cfms+e//nPf05PPfVUnA6plAABAgQIECBAgEBFAgJ6Rc20lfdcoNqAPnfu3HT66aenu+66qx8tvy3+S1/6UvrXv/6VjjjiiAMw9+7dm/Kfvttbb72V/ud//if993//d76YxXuO7wcSIECAAAECBAgQGIrA22+/nV577bXm45uHHXbYUA7tzH0F9M60QiEdFKg2oJ966qnp4osvTtdff30/+5YtW9Ls2bPTrl270oc+9KED2rF48eK0ZMmSDrZJSQQIECBAgAABAgT+v8BLL72UTjrppJAkAnrItim6kEDVAf2SSy5J1113XT9l/hz6xz/+8eYicx/84AcPIN7/DPqePXvS+PHjU34CHDNmTKGWWIYAAQIECBAgQIBAb4F//vOfady4cenVV19NH/jAB0Iy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6i4hIKCXULYGAQIECBAgQIAAAQKNgIBuEAgMLCCgmw4CBAgQIECAAAECBIoJCOjFqC0UUEBAD9g0JRMgQIAAAQIECBCIKiCgR+2cuksICOgllK1BgAABAgQIECBAgEAjIKAbBAIDCwjopoMAAQIECBAgQIAAgWICAnoxagsFFBDQAzZNyQQIECBAgAABAgSiCgjoUTun7hICAnoJZWsQIECAAAECBAgQINAICOgGgcDAAgK66SBAgAABAgQIECBAoJiAgF6M2kIBBQT0gE1TMgECBAgQIECAAIGoAgJ61M6pu4SAgF5C2RoECBAgQIAAAQIECDQCArpBIDCwgIBuOggQIECAAAECBAgQKCYgoBejtlBAAQE9YNOUTIAAAQIECBAgQCCqgIAetXPqLiEgoJdQtgYBAgQIECBAgAABAo2AgG4QCAwsIKCbDgIECBAgQIAAAQIEigkI6MWoLRRQQEAP2DQlEyBAgAABAgQIEIgqIKBH7Zy6SwgI6CWUrUGAAAECBAgQIECAQCMgoBsEAgMLCOimgwABAgQIECBAgACBYgICejFqCwUUENADNk3JBAgQIECAAAECBKIKCOhRO6fuEgICegllaxAgQIAAAQIECBAg0AgI6AaBwMACArrpIECAAAECBAgQIECgmICAXozaQgEFBPSATVMyAQIECBAgQIAAgagCAnrUzqm7hICAXkLZGgQIECBAgAABAgQINAICukEgMLCAgG46CBAgQIAAAQIECBAoJiCgF6O2UEABAT1g05RMgAABAgQIECBAIKqAgB61c+ouISCgl1C2BgECBAgQIECAAAECjYCAbhAIDCwgoJsOAgQIECBAgAABAgSKCQjoxagtFFBAQA/YNCUTIECAAAECBAgQiCogoEftnLpLCAjoJZStQYAAAQIECBAgQIBAIyCgGwQCAwsI6KaDAAECBAgQIECAAIFiAgJ6MWoLBRQQ0AM2TckECBAgQIAAAQIEogoI6FE7p+4SAgJ6CWVrECBAgAABAgQIECDQCAjoBoHAwAICuukgQIAAAQIECBAgQKCYgIBejNpCAQUE9IBNUzIBAgQIECBAgACBqAICetTOqbuEgIBeQtkaBAgQIECAAAECBAg0AgK6QSAwsICAbjoIECBAgAABAgQIECgmIKAXo7ZQQAEBPWDTlEyAAAECBAgQIEAgqoCAHrVz6i4h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" width="800">



    ---------------------------------------------------------------------------

    KeyboardInterrupt                         Traceback (most recent call last)

    <ipython-input-13-546de5ed4dae> in <module>
         44     candlestick_ohlc(ax, ohlc, width=0.4, 
         45                      colorup='#075105',
    ---> 46                      colordown='#AF141A')
         47     for label in ax.xaxis.get_ticklabels():
         48         label.set_rotation(45)
    

    ~\Anaconda3\lib\site-packages\mpl_finance.py in candlestick_ohlc(ax, quotes, width, colorup, colordown, alpha)
        234     return _candlestick(ax, quotes, width=width, colorup=colorup,
        235                         colordown=colordown,
    --> 236                         alpha=alpha, ochl=False)
        237 
        238 
    

    ~\Anaconda3\lib\site-packages\mpl_finance.py in _candlestick(ax, quotes, width, colorup, colordown, alpha, ochl)
        310         lines.append(vline)
        311         patches.append(rect)
    --> 312         ax.add_line(vline)
        313         ax.add_patch(rect)
        314     ax.autoscale_view()
    

    ~\Anaconda3\lib\site-packages\matplotlib\axes\_base.py in add_line(self, line)
       1891         self._set_artist_props(line)
       1892         if line.get_clip_path() is None:
    -> 1893             line.set_clip_path(self.patch)
       1894 
       1895         self._update_line_limits(line)
    

    ~\Anaconda3\lib\site-packages\matplotlib\artist.py in set_clip_path(self, path, transform)
        683         if transform is None:
        684             if isinstance(path, Rectangle):
    --> 685                 self.clipbox = TransformedBbox(Bbox.unit(),
        686                                                path.get_transform())
        687                 self._clippath = None
    

    ~\Anaconda3\lib\site-packages\matplotlib\transforms.py in unit()
        797         (1, 1).
        798         """
    --> 799         return Bbox(np.array([[0.0, 0.0], [1.0, 1.0]], float))
        800 
        801     @staticmethod
    

    ~\Anaconda3\lib\site-packages\matplotlib\transforms.py in __init__(self, points, **kwargs)
        779         # default or has been mutated; we store the orig points to
        780         # support the mutated methods
    --> 781         self._points_orig = self._points.copy()
        782     if DEBUG:
        783         ___init__ = __init__
    

    KeyboardInterrupt: 


# Wrap it all in a class instance


```python
%matplotlib notebook
from mpl_finance import candlestick_ohlc
import matplotlib.pyplot as plt
import matplotlib.ticker as mticker
import time

class LiveChartEnv:
    def __init__(self, tick_data, time_frame, 
                 candle_window, wait = 0.01):
        self.tick_data = tick_data
        self.time_frame = time_frame
        self.candle_window = candle_window
        self.wait = wait
        print('Class initialized succesfully')
    
    def initialize_chart(self):
        self.fig = plt.figure(figsize=(8,5))
        self.ax = plt.subplot2grid((1,1), (0,0))
        plt.ion()
        self.fig.show()
        self.fig.canvas.draw()
        
    def update_chart(self, candle_data):
            candle_counter = range(len(candle_data["open"]))
            ohlc = []
            for candle in candle_counter:
                append_me = candle_counter[candle], \
                            candle_data["open"][candle], \
                            candle_data["high"][candle],  \
                            candle_data["low"][candle], \
                            candle_data["close"][candle]
                ohlc.append(append_me)
            self.ax.clear() # - Clear the chart
            candlestick_ohlc(self.ax, ohlc, width=0.4, 
                             colorup='#075105', 
                             colordown='#AF141A')
            for label in self.ax.xaxis.get_ticklabels():
                label.set_rotation(45)
            self.ax.xaxis.set_major_locator(mticker.MaxNLocator(10))
            self.ax.grid(True)
            plt.grid(False)
            plt.xlabel('Candle count')
            plt.ylabel('Price')
            plt.title('Candlestick chart simulation')
            plt.subplots_adjust(left=0.09, bottom=0.20, right=0.94, 
                                top=0.90, wspace=0.2, hspace=0)
            self.fig.canvas.draw() # - Draw on the chart
    
    def convert_ticks_to_ohlc(df, df_column, timeframe):
        data_ohlc = df[df_column].resample(timeframe).ohlc()
        return data_ohlc
        
    def candlestick_simulation(self):
        candlestick_data = convert_ticks_to_ohlc(self.tick_data, 
                                                 "ask", 
                                                 self.time_frame)
        all_candles = len(candlestick_data)
        self.initialize_chart()
        for candle in range((all_candles - self.candle_window)):
            candles_to_show = candlestick_data[candle:(candle+self.candle_window)]
            self.update_chart(candles_to_show)
            time.sleep(self.wait)    #sleep


```

# Use LiveChartEnv class to animate chart

Load tick data to dataframe


```python
tick_data = pd.read_csv("EURUSD-2019_01_01-2019_02_01.csv",
                        index_col=["time"], 
                        usecols=["time", "ask", "bid"],
                        parse_dates=["time"])
```


```python
tick_data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ask</th>
      <th>bid</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-01-01 22:02:37.254</th>
      <td>1.14682</td>
      <td>1.14598</td>
    </tr>
    <tr>
      <th>2019-01-01 22:02:38.590</th>
      <td>1.14682</td>
      <td>1.14599</td>
    </tr>
    <tr>
      <th>2019-01-01 22:02:39.138</th>
      <td>1.14684</td>
      <td>1.14599</td>
    </tr>
    <tr>
      <th>2019-01-01 22:02:55.787</th>
      <td>1.14684</td>
      <td>1.14598</td>
    </tr>
    <tr>
      <th>2019-01-01 22:03:02.060</th>
      <td>1.14684</td>
      <td>1.14598</td>
    </tr>
  </tbody>
</table>
</div>



 Create class instance of candlestick environment


```python
candlestick_chart = LiveChartEnv(tick_data, "1min", 30)
```

    Class initialized succesfully
    

 Simulate chart with only candles


```python
candlestick_chart.candlestick_simulation()
```


    <IPython.core.display.Javascript object>

![png]({{ site.baseurl }}/assets/images/posts/5/output_10_1.png)

<img src="data:image/png;base64,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3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4AYF+3Ep9EAECBAgQIECAAAECBAg0Cgj0xq2ZmQABAgQIECBAgAABAgSOExDox63UBxEgQIAAAQIECBAgQIBAo4BAb9yamQkQIECAAAECBAgQIEDgOAGBftxKfRABAgQIECBAgAABAgQINAoI9MatmZkAAQIECBAgQIAAAQIEjhMQ6Met1AcRIECAAAECBAgQIECAQKOAQG/cmpkJECBAgAABAgQIECBA4DgBgX7cSn0QAQIECBAgQIAAAQIECDQKCPTGrZmZAAECBAgQIECAAAECBI4TEOjHrdQHESBAgAABAgQIECBAgECjgEBv3JqZCRAgQIAAAQIECBAgQOA4gf8Cmflq+eGqNW0AAAAASUVORK5CYII=" width="800">



    ---------------------------------------------------------------------------

    KeyboardInterrupt                         Traceback (most recent call last)

    <ipython-input-12-41d22910c909> in <module>
    ----> 1 candlestick_chart.candlestick_simulation()
    

    <ipython-input-7-a77695817b89> in candlestick_simulation(self)
         59         for candle in range((all_candles - self.candle_window)):
         60             candles_to_show = candlestick_data[candle:(candle+self.candle_window)]
    ---> 61             self.update_chart(candles_to_show)
         62             time.sleep(self.wait)    #sleep
         63 
    

    <ipython-input-7-a77695817b89> in update_chart(self, candle_data)
         45             plt.subplots_adjust(left=0.09, bottom=0.20, right=0.94, 
         46                                 top=0.90, wspace=0.2, hspace=0)
    ---> 47             self.fig.canvas.draw() # - Draw on the chart
         48 
         49     def convert_ticks_to_ohlc(df, df_column, timeframe):
    

    ~\Anaconda3\lib\site-packages\matplotlib\backends\backend_webagg_core.py in draw(self)
        148         self._png_is_old = True
        149         try:
    --> 150             super().draw()
        151         finally:
        152             self.manager.refresh_all()  # Swap the frames.
    

    ~\Anaconda3\lib\site-packages\matplotlib\backends\backend_agg.py in draw(self)
        400         toolbar = self.toolbar
        401         try:
    --> 402             self.figure.draw(self.renderer)
        403             # A GUI class may be need to update a window using this draw, so
        404             # don't forget to call the superclass.
    

    ~\Anaconda3\lib\site-packages\matplotlib\artist.py in draw_wrapper(artist, renderer, *args, **kwargs)
         48                 renderer.start_filter()
         49 
    ---> 50             return draw(artist, renderer, *args, **kwargs)
         51         finally:
         52             if artist.get_agg_filter() is not None:
    

    ~\Anaconda3\lib\site-packages\matplotlib\figure.py in draw(self, renderer)
       1647 
       1648             mimage._draw_list_compositing_images(
    -> 1649                 renderer, self, artists, self.suppressComposite)
       1650 
       1651             renderer.close_group('figure')
    

    ~\Anaconda3\lib\site-packages\matplotlib\image.py in _draw_list_compositing_images(renderer, parent, artists, suppress_composite)
        136     if not_composite or not has_images:
        137         for a in artists:
    --> 138             a.draw(renderer)
        139     else:
        140         # Composite any adjacent images together
    

    ~\Anaconda3\lib\site-packages\matplotlib\artist.py in draw_wrapper(artist, renderer, *args, **kwargs)
         48                 renderer.start_filter()
         49 
    ---> 50             return draw(artist, renderer, *args, **kwargs)
         51         finally:
         52             if artist.get_agg_filter() is not None:
    

    ~\Anaconda3\lib\site-packages\matplotlib\axes\_base.py in draw(self, renderer, inframe)
       2626             renderer.stop_rasterizing()
       2627 
    -> 2628         mimage._draw_list_compositing_images(renderer, self, artists)
       2629 
       2630         renderer.close_group('axes')
    

    ~\Anaconda3\lib\site-packages\matplotlib\image.py in _draw_list_compositing_images(renderer, parent, artists, suppress_composite)
        136     if not_composite or not has_images:
        137         for a in artists:
    --> 138             a.draw(renderer)
        139     else:
        140         # Composite any adjacent images together
    

    ~\Anaconda3\lib\site-packages\matplotlib\artist.py in draw_wrapper(artist, renderer, *args, **kwargs)
         48                 renderer.start_filter()
         49 
    ---> 50             return draw(artist, renderer, *args, **kwargs)
         51         finally:
         52             if artist.get_agg_filter() is not None:
    

    ~\Anaconda3\lib\site-packages\matplotlib\patches.py in draw(self, renderer)
        527         transform = self.get_transform()
        528         tpath = transform.transform_path_non_affine(path)
    --> 529         affine = transform.get_affine()
        530 
        531         if self.get_path_effects():
    

    ~\Anaconda3\lib\site-packages\matplotlib\transforms.py in get_affine(self)
       2459             return self._b.get_affine()
       2460         else:
    -> 2461             return Affine2D(np.dot(self._b.get_affine().get_matrix(),
       2462                                 self._a.get_affine().get_matrix()))
       2463     get_affine.__doc__ = Transform.get_affine.__doc__
    

    ~\Anaconda3\lib\site-packages\matplotlib\transforms.py in get_affine(self)
       2459             return self._b.get_affine()
       2460         else:
    -> 2461             return Affine2D(np.dot(self._b.get_affine().get_matrix(),
       2462                                 self._a.get_affine().get_matrix()))
       2463     get_affine.__doc__ = Transform.get_affine.__doc__
    

    ~\Anaconda3\lib\site-packages\matplotlib\transforms.py in get_affine(self)
       2460         else:
       2461             return Affine2D(np.dot(self._b.get_affine().get_matrix(),
    -> 2462                                 self._a.get_affine().get_matrix()))
       2463     get_affine.__doc__ = Transform.get_affine.__doc__
       2464 
    

    KeyboardInterrupt: 



```python

```


```python

```


```python

```


```python

```
